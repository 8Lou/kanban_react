# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –¢–û–° –≤ Kanban Board

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –ø—Ä–∏–Ω—Ü–∏–ø—ã **–¢–µ–æ—Ä–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º (–¢–û–°)** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

## üìã –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (90% –¢–ó)

#### 1. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø–æ–¥—á–∏–Ω–µ–Ω–∏–µ (Drum & Rope Logic)

**–§–∞–π–ª—ã:** `src/utils/toc-calculations.ts`, `src/App.tsx`

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
export function identifyConstraint(
  tasksByStatus: Record<string, Task[]>,
  wipLimits: Record<string, number>
): string | null {
  let maxOverage = 0;
  let constraintStatus: string | null = null;
  
  Object.entries(tasksByStatus).forEach(([status, tasks]) => {
    const limit = wipLimits[status];
    if (!limit) return;
    
    const overage = (tasks.length - limit) / limit;
    if (overage > maxOverage && overage > 0.2) { // –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 20%
      maxOverage = overage;
      constraintStatus = status;
    }
  });
  
  return constraintStatus;
}
```

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ö—Ä–∞—Å–Ω–∞—è –º–µ—Ç–∫–∞ "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (–ë–∞—Ä–∞–±–∞–Ω)" –Ω–∞–¥ –∫–æ–ª–æ–Ω–∫–æ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á –≤ –∫–æ–ª–æ–Ω–∫–µ-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–∏

#### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º ("–ö–∞–Ω–∞—Ç")

**–§–∞–π–ª—ã:** `src/components/RopeControl.tsx`, `src/App.tsx`

```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–ø—É—Å–∫–∞ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏
export function canStartNewTask(
  currentWIP: number,
  wipLimit: number,
  constraintStatus: string,
  targetStatus: string,
  constraintTasks: Task[]
): { allowed: boolean; reason?: string } {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ WIP-–ª–∏–º–∏—Ç–∞
  if (currentWIP >= wipLimit) {
    return {
      allowed: false,
      reason: `WIP-–ª–∏–º–∏—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç (${currentWIP}/${wipLimit})`,
    };
  }
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
  if (targetStatus === constraintStatus) {
    const constraintWorkload = constraintTasks.reduce((sum, t) => 
      sum + (t.durationEstimate50 || 0), 0);
    if (constraintWorkload > 0) {
      return {
        allowed: false,
        reason: '–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–æ',
      };
    }
  }
  
  return { allowed: true };
}
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- WIP-–ª–∏–º–∏—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–ª–æ–Ω–∫–∏
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ drag & drop –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

#### 3. Full-kit –≤–æ—Ä–æ—Ç–∞

**–§–∞–π–ª—ã:** `src/components/FullKitGate.tsx`, `src/utils/toc-calculations.ts`

```typescript
// –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Ç–∞
export function validateFullKit(task: Task): { 
  valid: boolean; 
  missingItems: string[] 
} {
  const missingItems: string[] = [];
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á–µ–∫-–ª–∏—Å—Ç
  if (!task.fullKitStatus.isComplete) {
    const incompleteTasks = task.fullKitStatus.checklist
      .filter(item => !item.completed)
      .map(item => item.title);
    missingItems.push(...incompleteTasks);
  }
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
  if (!task.durationEstimate50) {
    missingItems.push('–ù–µ —É–∫–∞–∑–∞–Ω–∞ 50%-–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏');
  }
  
  if (task.assignees.length === 0) {
    missingItems.push('–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ');
  }
  
  return {
    valid: missingItems.length === 0,
    missingItems,
  };
}
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç FullKitGate:**
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –≤–æ—Ä–æ—Ç–∞ –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏ "–û—á–µ—Ä–µ–¥—å" –∏ "–í —Ä–∞–±–æ—Ç–µ"
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º
- –†–æ–ª—å —Å—Ç—Ä–∞–∂–∞ –≤–æ—Ä–æ—Ç (gatekeeper)
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏ –ø–æ–ª–Ω—ã–π —Ä–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

#### 4. –°–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (50%)

**–§–∞–π–ª—ã:** `src/components/AddTaskDialog.tsx`

```typescript
// –í —Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏
<Label htmlFor="duration" className="flex items-center gap-2">
  50%-–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ (—á–∞—Å—ã) *
  <span className="text-xs text-orange-600 font-normal">
    ‚ö†Ô∏è –ü—Ä–∏–Ω—Ü–∏–ø –¢–û–°
  </span>
</Label>
<Input
  id="duration"
  type="number"
  min="0.5"
  step="0.5"
  value={durationEstimate50 || ''}
  placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –æ–±—ã—á–Ω–æ 8 —á–∞—Å–æ–≤ ‚Üí —É–∫–∞–∂–∏—Ç–µ 4"
/>
<p className="text-xs text-gray-600">
  üí° –£–∫–∞–∂–∏—Ç–µ <strong>—Å–æ–∫—Ä–∞—â–µ–Ω–Ω—É—é –æ—Ü–µ–Ω–∫—É –±–µ–∑ –∑–∞–ø–∞—Å–æ–≤ –≤—Ä–µ–º–µ–Ω–∏</strong>. 
  –û—Å—Ç–∞–ª—å–Ω—ã–µ 50% –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤—è—Ç—Å—è –≤ –±—É—Ñ–µ—Ä –ø–æ—Ç–æ–∫–∞.
</p>
```

**–ü—Ä–∏–Ω—É–∂–¥–µ–Ω–∏–µ:**
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –¢–û–°
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –±—É—Ñ–µ—Ä–∞ –ø–æ—Ç–æ–∫–∞

#### 5. –ë—É—Ñ–µ—Ä –ø–æ—Ç–æ–∫–∞ (Buffer Management)

**–§–∞–π–ª—ã:** `src/utils/toc-calculations.ts`, `src/components/BufferStatusReport.tsx`

```typescript
// –†–∞—Å—á–µ—Ç –±—É—Ñ–µ—Ä–∞ –ø–æ—Ç–æ–∫–∞ (50% –æ—Ç –æ–±—â–µ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
export function calculateFlowBuffer(tasks: Task[]): number {
  const totalDuration = tasks.reduce((sum, task) => {
    return sum + (task.durationEstimate50 || 0);
  }, 0);
  
  return totalDuration * 0.5; // 50% –±—É—Ñ–µ—Ä
}

// –†–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞
export function calculateBufferConsumption(
  task: Task,
  flowBuffer: number,
  actualTimeSpent: number
): number {
  if (!task.durationEstimate50) return 0;
  
  const plannedDuration = task.durationEstimate50;
  const bufferUsed = actualTimeSpent - plannedDuration;
  if (bufferUsed <= 0) return 0;
  
  return Math.min(Math.round((bufferUsed / flowBuffer) * 100), 100);
}
```

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**
- –¶–≤–µ—Ç–æ–≤—ã–µ –∑–æ–Ω—ã: –∑–µ–ª–µ–Ω–∞—è (0-33%), –∂–µ–ª—Ç–∞—è (34-66%), –∫—Ä–∞—Å–Ω–∞—è (67-100%)
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –∑–∞–¥–∞—á
- –û—Ç—á–µ—Ç—ã –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é –±—É—Ñ–µ—Ä–æ–≤

#### 6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è (–ê–≤—Ç–æ-–¢—Ä–∏–∞–∂)

**–§–∞–π–ª—ã:** `src/utils/toc-calculations.ts`, `src/components/KanbanCard.tsx`

```typescript
// –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏
export function calculateTaskPriority(task: Task): number {
  const factors = {
    // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –≤—Ä—É—á–Ω—É—é (1-3)
    manualPriority: task.priority === 'high' ? 3 : 
                   task.priority === 'medium' ? 2 : 1,
    
    // –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å –ø–æ –±—É—Ñ–µ—Ä—É
    bufferCriticality: task.bufferConsumption / 100,
    
    // –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –∑–∞–¥–∞—á–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º (—É—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ—Å)
    isConstraint: (task.constraintType === 'drum' || 
                   task.constraintType === 'constraint') ? 3 : 1,
    
    // Full-kit –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
    fullKitReady: task.fullKitStatus.isComplete ? 1.5 : 0.8,
    
    // –°—Ä–æ—á–Ω–æ—Å—Ç—å –ø–æ –¥–µ–¥–ª–∞–π–Ω—É
    deadlineUrgency: calculateDeadlineUrgency(task.dueDate),
  };
  
  // –ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–º–∞–∫—Å–∏–º—É–º 100)
  const priority = Math.min(
    (factors.manualPriority * 10 +
     factors.bufferCriticality * 30 +
     factors.isConstraint * 20 +
     factors.fullKitReady * 15 +
     factors.deadlineUrgency * 25),
    100
  );
  
  return Math.round(priority);
}
```

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**
- –¶–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö
- –ß–∏—Å–ª–æ–≤–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞

#### 7. –°—Ç–∏–ª—å —ç—Å—Ç–∞—Ñ–µ—Ç—ã

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- Drag & Drop –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ—Å—Ç–æ–µ –∑–∞–¥–∞—á (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö

#### 8. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –ö–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–µ

**–§–∞–π–ª—ã:** `src/components/KanbanColumn.tsx`, `src/components/KanbanCard.tsx`

**WIP-–ª–∏–º–∏—Ç—ã:**
```typescript
// –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏
const isOverLimit = wipLimit ? tasks.length > wipLimit : false;
const isNearLimit = wipLimit ? tasks.length === wipLimit : false;

<div className={`p-4 rounded-t-lg border-b-2 ${
  isOverLimit 
    ? 'bg-red-100 border-red-400' 
    : isNearLimit 
    ? 'bg-yellow-100 border-yellow-400' 
    : headerColors[status] || 'bg-gray-100 border-gray-300'
}`}>
```

**–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –±—É—Ñ–µ—Ä–∞:**
```typescript
// –¶–≤–µ—Ç–æ–≤—ã–µ –∑–æ–Ω—ã –±—É—Ñ–µ—Ä–∞
<div className="relative w-full h-2 bg-gray-200 rounded-full overflow-hidden">
  <div className="absolute inset-0 flex">
    <div className="w-1/3 bg-green-100"></div>
    <div className="w-1/3 bg-yellow-100"></div>
    <div className="w-1/3 bg-red-100"></div>
  </div>
  <div
    className={`absolute left-0 top-0 h-full ${getBufferColor()} transition-all`}
    style={{ width: `${bufferConsumption}%` }}
  ></div>
</div>
```

#### 9. –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –ø–æ –±—É—Ñ–µ—Ä–∞–º

**–§–∞–π–ª—ã:** `src/components/BufferStatusReport.tsx`, `src/components/BufferReportDialog.tsx`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ç—á–µ—Ç–æ–≤:**
- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–æ–Ω–∞–º
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ (–∫—Ä–∞—Å–Ω–∞—è –∑–æ–Ω–∞)
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –±—É—Ñ–µ—Ä–æ–≤

#### 10. –®–∞–±–ª–æ–Ω—ã –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏–∏

**–§–∞–π–ª—ã:** `src/components/FullKitTemplatesDialog.tsx`

**–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã:**
1. **–¢–û–°: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞** - –ø–æ–ª–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. **–¢–û–°: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —á–µ–∫-–ª–∏—Å—Ç –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫
3. **–¢–û–°: –†–µ–ª–∏–∑ –≤ production** - –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–ª–∏–∑
4. **–¢–û–°: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ (–ë–∞—Ä–∞–±–∞–Ω)** - —É—Å–∏–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
5. **–¢–û–°: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∑–∞–¥–∞—á–∞** - –±–∞–∑–æ–≤—ã–π –∫–æ–º–ø–ª–µ–∫—Ç

### ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (—Å–ª–æ–∂–Ω–æ –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞)

#### 1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —è–∫–æ—Ä–Ω–æ–π –∑–∞–¥–∞—á–µ–π
- –í—ã–±–æ—Ä –∫—Ä—É–ø–Ω–æ–π –∑–∞–¥–∞—á–∏ –∫–∞–∫ —è–∫–æ—Ä—è
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á —Å —è–∫–æ—Ä–µ–º
- **–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ –¥–ª—è –∫–∞–Ω–±–∞–Ω-–ø—Ä–æ—Ç–æ—Ç–∏–ø–∞

#### 2. –î–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –æ–±—ä–µ–º–∞ —Ä–∞–±–æ—Ç—ã –∑–∞ —Ä–∞–∑
- –ê–Ω–∞–ª–∏–∑ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ –∫ –∑–∞–¥–∞—á–∞–º
- **–ü—Ä–∏—á–∏–Ω–∞:** –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞, –Ω–µ –¥–ª—è –∫–∞–Ω–±–∞–Ω–∞

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê–ª–≥–æ—Ä–∏—Ç–º—ã –¢–û–°

–í—Å–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¢–û–° –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `src/utils/toc-calculations.ts`:

```typescript
// –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
identifyConstraint()        // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
canStartNewTask()          // –ü—Ä–æ–≤–µ—Ä–∫–∞ "–ö–∞–Ω–∞—Ç–∞"
validateFullKit()         // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Ç–∞
calculateTaskPriority()   // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è
calculateFlowBuffer()     // –†–∞—Å—á–µ—Ç –±—É—Ñ–µ—Ä–∞ –ø–æ—Ç–æ–∫–∞
sortTasksByPriority()     // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
performTriage()           // –¢—Ä–∏–∞–∂ –∑–∞–¥–∞—á
calculateFlowMetrics()    // –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ—Ç–æ–∫–∞
```

### –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

```typescript
// –û—Å–Ω–æ–≤–Ω–æ–π —Ç–∏–ø –∑–∞–¥–∞—á–∏ —Å –¢–û–°-–ø–æ–ª—è–º–∏
interface Task {
  // –ë–∞–∑–æ–≤—ã–µ –ø–æ–ª—è
  id: string;
  title: string;
  description: string;
  status: string;
  priority: 'low' | 'medium' | 'high';
  
  // –¢–û–°-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–æ–ª—è
  durationEstimate50?: number;    // 50%-–Ω–∞—è –æ—Ü–µ–Ω–∫–∞
  bufferConsumption: number;      // –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞
  constraintType?: 'drum' | 'constraint' | 'none';
  constraintResource?: string;    // –†–µ—Å—É—Ä—Å-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
  gatekeeper?: string;           // –°—Ç—Ä–∞–∂ –≤–æ—Ä–æ—Ç
  
  // Full-kit —Å—Ç–∞—Ç—É—Å
  fullKitStatus: {
    isComplete: boolean;
    checklist: ChecklistItem[];
  };
}
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¢–û–°

```typescript
// –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –¢–û–°
FullKitGate           // –í–æ—Ä–æ—Ç–∞ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Ç–∞
BufferStatusReport    // –û—Ç—á–µ—Ç—ã –ø–æ –±—É—Ñ–µ—Ä–∞–º
RopeControl          // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ "–ö–∞–Ω–∞—Ç–æ–º"
TOCDashboard         // –î–∞—à–±–æ—Ä–¥ –¢–û–°
BufferIndicator      // –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –±—É—Ñ–µ—Ä–∞
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¢–ó

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¢–ó | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|---------------|--------|------------|
| –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è | ‚úÖ 100% | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ + –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º (–ö–∞–Ω–∞—Ç) | ‚úÖ 100% | WIP-–ª–∏–º–∏—Ç—ã + –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞–ø—É—Å–∫–∞ |
| Full-kit –≤–æ—Ä–æ—Ç–∞ | ‚úÖ 100% | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç + –≤–∞–ª–∏–¥–∞—Ü–∏—è + —à–∞–±–ª–æ–Ω—ã |
| 50%-–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏ | ‚úÖ 100% | –ü—Ä–∏–Ω—É–∂–¥–µ–Ω–∏–µ –≤ UI + –≤–∞–ª–∏–¥–∞—Ü–∏—è |
| –ë—É—Ñ–µ—Ä –ø–æ—Ç–æ–∫–∞ | ‚úÖ 100% | –†–∞—Å—á–µ—Ç + –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã + –æ—Ç—á–µ—Ç—ã |
| –ê–≤—Ç–æ–ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è | ‚úÖ 100% | –ê–ª–≥–æ—Ä–∏—Ç–º + –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è |
| –°—Ç–∏–ª—å —ç—Å—Ç–∞—Ñ–µ—Ç—ã | ‚úÖ 80% | Drag & Drop (–±–µ–∑ –ø—Ä–∏–Ω—É–∂–¥–µ–Ω–∏—è) |
| –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è WIP | ‚úÖ 100% | –¶–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã + –ª–∏–º–∏—Ç—ã |
| –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –±—É—Ñ–µ—Ä–æ–≤ | ‚úÖ 100% | –°—Ç–∞—Ç—É—Å + –∏—Å—Ç–æ—Ä–∏—è + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |
| –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è | ‚úÖ 100% | 5 —à–∞–±–ª–æ–Ω–æ–≤ –¢–û–° |
| –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —è–∫–æ—Ä—è | ‚ùå 0% | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (—Å–ª–æ–∂–Ω–æ) |
| –î–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚ùå 0% | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ) |

**–û–±—â–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¢–ó: 90%**

## üöÄ –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
2. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –∞–ª–µ—Ä—Ç—ã –ø–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏—è–º
3. **–≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤** - PDF/Excel –æ—Ç—á–µ—Ç—ã –ø–æ –±—É—Ñ–µ—Ä–∞–º
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º** - –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –¥–µ–¥–ª–∞–π–Ω–∞–º

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¢–û–°-—Ñ—É–Ω–∫—Ü–∏–∏

1. **S-DBR (Simplified Drum-Buffer-Rope)** - —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
2. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–ø—å** - –¥–ª—è –ø—Ä–æ–µ–∫—Ç–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
3. **–ê–Ω–∞–ª–∏–∑ —É–∑–∫–∏—Ö –º–µ—Å—Ç** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
4. **–ë—É—Ñ–µ—Ä—ã –≤—Ä–µ–º–µ–Ω–∏** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞–º–∏

---

**–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –¢–û–° –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∑–∞–¥–∞–Ω–∏–µ–º.**